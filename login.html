
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - Gone Viral</title>
  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'
    const supabase = createClient(
      'https://dptolytfqrdzhvdlntfb.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwdG9seXRmcXJkemh2ZGxudGZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5NzUzMDksImV4cCI6MjA2NzU1MTMwOX0.gi8fekd2RZUomuAebzTU_Vs62pJXQBcSukr2evYcnok'
    );

    window.login = async function(e) {
      e.preventDefault()
      const email = document.getElementById('email').value
      const password = document.getElementById('password').value
      const msg = document.getElementById('result')
      msg.textContent = ''

      const { error } = await supabase.auth.signInWithPassword({ email, password })
      if (error) {
        msg.textContent = '❌ ' + error.message
      } else {
        msg.textContent = '✅ Login successful!'
        setTimeout(() => window.location.href = '/dashboard.html', 1200)
      }
    }
  </script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.2/dist/tailwind.min.css" rel="stylesheet" />
</head>
<body class="bg-black text-white p-6 font-sans">
  <div class="max-w-md mx-auto space-y-6">
    <h1 class="text-3xl text-pink-500 font-bold text-center">Login</h1>
    <form onsubmit="login(event)" class="space-y-4">
      <input id="email" type="email" required placeholder="Email" class="w-full p-2 bg-gray-800 text-white rounded">
      <input id="password" type="password" required placeholder="Password" class="w-full p-2 bg-gray-800 text-white rounded">
      <button class="w-full bg-pink-600 hover:bg-pink-500 py-2 rounded">Log In</button>
      <p id="result" class="text-sm text-center text-red-400"></p>
    </form>
    <div class="text-center text-sm pt-4">
      <a href="/reset.html" class="text-blue-400 hover:underline">Forgot your password?</a>
    </div>
    <div class="text-center text-sm pt-2">
      <a href="/signup.html" class="text-green-400 hover:underline">Need an account? Sign up</a>
    </div>
  </div>
</body>
</html>
